!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const o=4*Math.floor(54),i=Math.ceil(900/o)+1,r=Math.floor(11.25)+1;function l(t){let e=function(t){return{x:100*t.x/t.z,y:100*(t.y+-100)/t.z}}(t);return{x:280+e.x,y:260-e.y}}function a(t,e,n){const o={x:e.x,y:n.y,z:n.z},i={x:n.x,y:e.y,z:e.z},r=l(e),a=l(o),c=l(n),h=l(i);t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.lineTo(c.x,c.y),t.lineTo(h.x,h.y),t.fill()}const c=document.getElementById("canvas").getContext("2d"),h=[{name:"concrete",path:"images/concrete.png",width:120,height:80},{name:"concrete_far",path:"images/concrete_far.png",width:120,height:80},{name:"concrete_close",path:"images/concrete_close.png",width:240,height:160}],f=[{name:"forest_left",path:"images/forest_left.png",width:600,height:360},{name:"forest_right",path:"images/forest_right.png",width:600,height:360},{name:"ground",path:"images/ground.png",width:50,height:50}],d=new Map,u=new Map;function s(t){return new Promise((function(e,n){t.onload=function(){e(t)},t.onerror=n}))}function g(t,e,n){const o=l({x:0,y:0,z:1e3}).y;if(c.fillStyle="black",c.fillRect(0,0,560,o),c.fillStyle="black",c.fillRect(0,o,560,360-o),n){const n=t-280-105,o=t+280+105,i=d.get("forest_left");p(i,m,n,"forest_left"),m=w(m,i.width,e);const r=d.get("forest_right");p(r,x,o,"forest_right"),x=w(x,r.width,e)}!function(t){const e={x:t-210,y:0,z:100},n={x:t+210,y:0,z:1e3};c.fillStyle="black",a(c,e,n),c.fillStyle="white",a(c,{...e,x:e.x-10},{...e,z:1e3}),a(c,{...n,z:100},{...n,x:n.x+10})}(t)}const y=[];let m=0,x=0;function w(t,e,n){return(t+1*n)%e}function p(t,e,n,o){const i=l({x:n,y:0,z:100}),r=l({x:n,y:360,z:100}),a=l({x:n,y:0,z:1e3}),h=l({x:n,y:360,z:1e3}),f=Math.abs(h.x-r.x),u=(a.y-i.y)/(a.x-i.x),s=i.x<a.x?t.height:t.height-(360-a.y),g=t.data,y=t.width,m=t.height,x=d.get("ground"),w=x.data,p=x.width,z=x.height,M=n>0?n-p:n,v=new Uint8ClampedArray(g.length);for(let t=0;t<v.length;t+=4){const o=t/4%y;if(o>f)continue;const r=(t/4-o)/y,l=360-r-100;if(r>o*u+s){const r=-1e4/l,c=(n<0?o+i.x-280:o+a.x-280)*r/100,h=n<0?Math.floor(c-M):Math.floor(p-c+M);if(h<0||h>=p){v[t]=0,v[t+1]=0,v[t+2]=0,v[t+3]=255;continue}const f=4*(Math.floor(r-100+e)%z*p+h),d=h>10?Math.floor((h-10)/(p-10)*255):0;v[t]=w[f]-d,v[t+1]=w[f+1]-d,v[t+2]=w[f+2]-d,v[t+3]=w[f+3]}else{const i=100*n/(o+n-(n>0?f:0)),r=l*i/100- -100,a=(Math.floor(i-100)+e)%y;if(a<0||a>y){v[t]=0,v[t+1]=0,v[t+2]=0,v[t+3]=255;continue}const c=Math.floor(360-r);if(c<0||c>m){v[t+1]=0,v[t+2]=0,v[t+3]=255;continue}const h=4*(c*y+a);if(h>=v.length){v[t+1]=0,v[t+2]=0,v[t+3]=255;continue}v[t]=g[h],v[t+1]=g[h+1],v[t+2]=g[h+2],v[t+3]=g[h+3]}}const S=new ImageData(v,y,m);c.putImageData(S,Math.min(r.x,h.x),0,0,0,f,360)}function z(t,e){let n=e+10,o={x:e-10,y:0,z:Math.max(t,100)},i={x:n,y:0,z:Math.min(t+40,1e3)};c.fillStyle="white",a(c,o,i)}function M(t,e){return t<0?e-26.25-157.5:e+26.25}function v(t,e){return t<0?e-26.25:e+26.25+157.5}function S(t,e,n){let o=M(e,n),i=v(e,n);if(t<500){const n=e>0?o:i,r={x:n,y:0,z:t+10},a={x:n,y:78.75,z:t};c.fillStyle="khaki",function(t,e,n){const o={x:e.x,y:n.y,z:e.z},i={x:n.x,y:e.y,z:n.z},r=l(e),a=l(o),c=l(n),h=l(i);t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.lineTo(c.x,c.y),t.lineTo(h.x,h.y),t.fill()}(c,r,a);const h={x:o,y:78.75,z:t},f={x:i,y:78.75,z:t+10};c.fillStyle="khaki",function(t,e,n){const o={x:e.x,y:e.y,z:n.z},i={x:n.x,y:n.y,z:e.z},r=l(e),a=l(o),c=l(n),h=l(i);t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.lineTo(c.x,c.y),t.lineTo(h.x,h.y),t.fill()}(c,h,f)}const r=l({x:o,y:78.75,z:t}),a=l({x:i,y:0,z:t});t>600?c.drawImage(u.get("concrete_far"),r.x,r.y,a.x-r.x,a.y-r.y):t>300?c.drawImage(u.get("concrete"),r.x,r.y,a.x-r.x,a.y-r.y):c.drawImage(u.get("concrete_close"),r.x,r.y,a.x-r.x,a.y-r.y)}let b=[],I=[],E=0,_=0,T=0,O=0,D=60,k=0,B=0,P=0,L=0,W=-1;for(let t=0;t<r;t++)b.push(100+80*t);!function(){let t=550;for(;t<1e3;){Math.random()<.7&&I.push({z:t,position:Math.random()>.5?1:-1}),t+=o}let e=I.length;for(;e<i;)I.push({z:0,position:0}),e++}();let j=!1;var A;function H(t){const e=Date.now()-O+T,n=Math.floor(e/1e3);D=60-n,B=P,P=Date.now(),P-k>1e3&&(_=E,E=0,k=P);const i=(P-B)/1e3*60,r=4*i;L+=r;Math.abs(W-t)>.08&&(W+=.08*Math.sign(t-W)*i,W=Math.min(W,1),W=Math.max(W,-1));const l=105*W;if(function(t,e,n){const o=t[0];if(o.z>1&&o.z<100){const t=M(o.position,e),i=v(o.position,e);if(n>t-78.75&&n<i+78.75)return!0}return!1}(I,l,-l))return A.LOST;b=function(t,e){const n=new Array(t.length);for(let o=0;o<t.length;o++)n[o]=t[o]-e;if(n[0]<60){for(let e=0;e<t.length-1;e++)n[e]=t[e+1];const e=n[t.length-2]+40+40;n[t.length-1]=Math.min(e,1e3)}return n}(b,r),I=function(t,e){if(t[0].z<1)return t;const n=[...t];if(n[0].z<98){for(let t=0;t<n.length-1;t++)n[t]=n[t+1];n[n.length-1]={z:0,position:0}}for(let t=0;t<n.length;t++)n[t].z=n[t].z-e;return n}(I,r),E+=1,L>o&&(I=function(t){let e=t.length;for(let n=0;n<t.length;n++)if(t[n].z<1){e=n;break}if(e===t.length)return t;if(Math.random()>.7)return t;const n=[...t];return Math.random()<.5?n[e]={z:1e3,position:-1}:n[e]={z:1e3,position:1},n}(I),L=0),c.clearRect(0,0,560,360),g(l,Math.floor(1*i),j),function(){if(0===y.length)for(let t=0;t<8;t++)y.push({x:Math.floor(120+320*Math.random()),y:Math.floor(20+100*Math.random())});for(const t of y)c.fillStyle="white",c.fillRect(t.x,t.y,2,2)}();for(let t=b.length-1;t>=0;t--)z(b[t],l);for(let t=I.length-1;t>=0;t--)I[t].z>98&&S(I[t].z,I[t].position,l);let a="00";return D>9?a=String(D):D>0&&(a="0"+D),function(t,e){c.font="20px sans-serif",c.fillStyle=e?"green":"white",c.fillText(t,440,20,100)}("Время: "+a+"\r\nFPS: "+(_>9?_:"0"+_),D<10),D<=0?A.WON:A.OK}!function(t){t[t.OK=0]="OK",t[t.WON=1]="WON",t[t.LOST=2]="LOST"}(A||(A={}));let N=-1,R=!1;const C=()=>{const t=H(N);return t===A.WON?(document.removeEventListener("keydown",U),void(document.getElementById("won").hidden=!1)):t===A.LOST?(document.removeEventListener("keydown",U),void(document.getElementById("lost").hidden=!1)):void(R?T=Date.now()-O+T:window.requestAnimationFrame(()=>C()))};function F(){!function(){const t=Date.now();O=t,k=t,B=t,P=t}(),window.requestAnimationFrame(()=>C())}async function K(){if(window.screen.width<560){const t=document.getElementById("canvas"),e=document.getElementById("left-arrow"),n=document.getElementById("right-arrow"),o=window.innerWidth-e.width-n.width-10,i=window.innerHeight-10,r=t.width/t.height;let l=o/i>r?i:o/r;t.style.height=String(Math.floor(l))+"px",t.style.width=String(Math.floor(l*r))+"px",document.body.style.height=String(window.innerHeight)+"px",document.body.style.width=String(window.innerWidth)+"px",e.style.height=String(Math.floor(window.innerHeight/2))+"px",e.hidden=!1,e.addEventListener("click",(function(){N=1})),n.style.height=String(Math.floor(window.innerHeight/2))+"px",n.hidden=!1,n.addEventListener("click",(function(){N=-1}))}else{document.getElementById("manual").hidden=!1,j=!0}await function(){const t=h.map(t=>{const e=new Image(t.width,t.height);return e.src=t.path,s(e).then(e=>({name:t.name,image:e}))});return Promise.all(t).then(t=>{for(const e of t)u.set(e.name,e.image)})}(),await function(){const t=document.getElementById("canvas-tech"),e=t.getContext("2d"),n=f.map(t=>{const n=new Image(t.width,t.height);return n.src=t.path,s(n).then(n=>(e.drawImage(n,0,0),{name:t.name,imageData:e.getImageData(0,0,t.width,t.height)}))});return Promise.all(n).then(e=>{var n;for(const t of e)d.set(t.name,t.imageData);null===(n=t.parentNode)||void 0===n||n.removeChild(t)})}(),F()}function q(){return!(window.screen.width<560&&window.innerWidth<560&&window.innerWidth<window.innerHeight)}if(q())K();else{document.getElementById("horizontal-alert").hidden=!1}function U(t){if("ArrowRight"===t.code&&(t.preventDefault(),N=-1),"ArrowLeft"===t.code&&(t.preventDefault(),N=1),"Enter"===t.code&&(t.preventDefault(),j=!j),"Escape"===t.code){t.preventDefault(),R=!0,document.getElementById("paused").hidden=!1}if("Space"===t.code&&(t.preventDefault(),R)){document.getElementById("paused").hidden=!0,R=!1,F()}}window.addEventListener("resize",(function(){const t=document.getElementById("horizontal-alert");q()?(t.hidden=!0,R?(R=!1,F()):K()):(R=!0,t.hidden=!1)})),document.addEventListener("keydown",U)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY29uc3RzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL3Byb2plY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZHJhd09iamVjdHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRElTVEFOQ0VfQkVUV0VFTl9CTE9DS1MiLCJNYXRoIiwiZmxvb3IiLCJOVU1fT0ZfQkxPQ0tTIiwiY2VpbCIsIk5VTV9PRl9ST0FEX01BUktTIiwiY2FudmFzUG9pbnQiLCJtb2RlbFBvaW50IiwicG9pbnQiLCJ4IiwieiIsInkiLCJjYW1lcmFQb2ludCIsIkNBTlZBU19XSURUSCIsIkNBTlZBU19IRUlHSFQiLCJkcmF3UmVjdFhZIiwiY29udGV4dCIsImxlZnRfYm90dG9tX3BvaW50IiwicmlnaHRfdG9wX3BvaW50IiwibGVmdF90b3BfcG9pbnQiLCJyaWdodF9ib3R0b21fcG9pbnQiLCJsYnBfY2FudmFzIiwibHRwX2NhbnZhcyIsInJ0cF9jYW52YXMiLCJyYnBfY2FudmFzIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiZmlsbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiaW1hZ2VEZXNjcmlwdGlvbnMiLCJwYXRoIiwid2lkdGgiLCJoZWlnaHQiLCJyYXdEYXRhRGVzY3JpcHRpb25zIiwicmF3RGF0YSIsIk1hcCIsInByb21pc2lmeUltYWdlTG9hZCIsImltYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbmxvYWQiLCJvbmVycm9yIiwiZHJhd0JhY2tncm91bmQiLCJyb2FkQ2VudGVyIiwibW92ZUZvcmVzdEJ5IiwiaGlnaERldGFpbHMiLCJob3Jpem9uX3kiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImxlZnRtb3N0WCIsIlJPQURfV0lEVEgiLCJyaWdodG1vc3RYIiwiZm9yZXN0TGVmdCIsImRyYXdGb3Jlc3QiLCJvZmZzZXRMZWZ0IiwibmV4dE9mZnNldCIsImZvcmVzdFJpZ2h0Iiwib2Zmc2V0UmlnaHQiLCJyb2FkX2xlZnRfYm90dG9tX3BvaW50Iiwicm9hZF9yaWdodF90b3BfcG9pbnQiLCJkcmF3Um9hZCIsInN0YXJzIiwib2Zmc2V0IiwidGV4dHVyZVdpZHRoIiwibW92ZUJ5Iiwib3JpZ2luYWxJbWFnZURhdGEiLCJtYXhYIiwiY2FjaGVLZXkiLCJjYnAiLCJjdHAiLCJmYnAiLCJmdHAiLCJjYW52YXNXaWR0aCIsImFicyIsImsiLCJiIiwib3JpZ2luYWxBcnJheSIsImRhdGEiLCJncm91bmQiLCJncm91bmRBcnJheSIsImdyb3VuZFdpZHRoIiwiZ3JvdW5kSGVpZ2h0IiwiZ3JvdW5kWE1pbiIsImFyciIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwibGVuZ3RoIiwiY2FtZXJhWSIsIm1vZGVsWiIsIm1vZGVsWCIsIm9yaWdpbmFsWCIsIm9yaWdpbmFsSSIsImFkanVzdG1lbnQiLCJtb2RlbFkiLCJvcmlnaW5hbFkiLCJpRGF0YSIsIkltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsIm1pbiIsImRyYXdNYXJrIiwibWFya19yaWdodF94IiwibWFya1dpZHRoIiwibWFya19sZWZ0X2JvdHRvbV9wb2ludCIsIm1heCIsIm1hcmtfcmlnaHRfdG9wX3BvaW50IiwiYmxvY2tMZWZ0IiwicG9zaXRpb24iLCJibG9ja1JpZ2h0IiwiZHJhd0Jsb2NrIiwiYmxvY2tMZWZ0X3giLCJibG9ja1JpZ2h0X3giLCJibG9ja0VkZ2VfeCIsIkJMT0NLX1dJRFRIIiwiZmFyX2JvdHRvbV9wb2ludCIsImNsb3NlX3RvcF9wb2ludCIsImZhcl90b3BfcG9pbnQiLCJjbG9zZV9ib3R0b21fcG9pbnQiLCJmYnBfY2FudmFzIiwiZnRwX2NhbnZhcyIsImN0cF9jYW52YXMiLCJjYnBfY2FudmFzIiwiZHJhd1JlY3RZWiIsImNscCIsImZycCIsImNsb3NlX2xlZnRfcG9pbnQiLCJmYXJfcmlnaHRfcG9pbnQiLCJmYXJfbGVmdF9wb2ludCIsImNsb3NlX3JpZ2h0X3BvaW50IiwiY2xwX2NhbnZhcyIsImZscF9jYW52YXMiLCJmcnBfY2FudmFzIiwiY3JwX2NhbnZhcyIsImRyYXdSZWN0WFoiLCJ0bHAiLCJicnAiLCJkcmF3SW1hZ2UiLCJ0aWNrTnVtIiwiZnBzIiwic2F2ZWRUaW1lIiwidGltZXN0YW1wIiwidGltZVJlbWFpbmluZyIsInRzMCIsInRzMSIsInRzMiIsImRpc3RhbmNlVG9OZXh0QmxvY2siLCJyb2FkUG9zaXRpb24iLCJwdXNoIiwiZGlzdGFuY2UiLCJyYW5kb20iLCJpbml0QmxvY2tzIiwiR2FtZVJlc3VsdCIsInJlbmRlclNjZW5lIiwicm9hZFBvc2l0aW9uR29hbCIsImVsYXBzZWQiLCJEYXRlIiwibm93IiwiZWxhcHNlZFNlYyIsImltcGxpZWRUaWNrcyIsInNwZWVkIiwic2lnbiIsInJvYWRCbG9ja3MiLCJjYXJDZW50ZXIiLCJmaXJzdEJsb2NrIiwiYmxvY2tMZWZ0WCIsImJsb2NrUmlnaHRYIiwiQ0FSX1dJRFRIIiwiY2hlY2tDcmFzaCIsIkxPU1QiLCJyb2FkTWFya3MiLCJ1cGRhdGVkTWFya3MiLCJBcnJheSIsIlpfTUlOIiwidXBkYXRlTWFya3MiLCJ1cGRhdGVkQmxvY2tzIiwidXBkYXRlQmxvY2tzIiwiZnJlZUlkeCIsImNyZWF0ZUJsb2NrcyIsImNsZWFyUmVjdCIsInN0YXIiLCJkcmF3U3RhcnMiLCJ0aW1lUmVtYWluaW5nRm9ybWF0dGVkIiwiU3RyaW5nIiwidGV4dCIsImhpZ2hsaWdodCIsImZvbnQiLCJmaWxsVGV4dCIsImRyYXdUZXh0IiwiV09OIiwiT0siLCJyb2FkX3Bvc2l0aW9uX2dvYWwiLCJwYXVzZWQiLCJuZXh0U2NlbmUiLCJyZXN1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvY2Vzc0tleSIsImhpZGRlbiIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJ1biIsImluaXRUaW1lciIsImFzeW5jIiwiaW5pdEFuZFJ1biIsInNjcmVlbiIsImNhbnZhcyIsImxlZnRBcnJvdyIsInJpZ2h0QXJyb3ciLCJhdmFpbGFibGVXaWR0aCIsImlubmVyV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJpbm5lckhlaWdodCIsImNhbnZhc0FzcGVjdCIsImNhbnZhc0hlaWdodCIsInN0eWxlIiwiYm9keSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9taXNlQXJyYXkiLCJtYXAiLCJkZXNjcmlwdGlvbiIsIkltYWdlIiwic3JjIiwidGhlbiIsImFsbCIsIm5hbWVkSW1hZ2VzIiwiZWwiLCJzZXQiLCJsb2FkSW1hZ2VzIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwibmFtZWRJbWFnZURhdGEiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJsb2FkUmF3RGF0YSIsImlzT3JpZW50YXRpb25PayIsImUiLCJjb2RlIiwicHJldmVudERlZmF1bHQiLCJkaXYiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVB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M0IsS0dOM0I0QixHQUNOakMsSUFJRixTQUFTa0MsSUFDUCxRQUFJcEMsT0FBT00sT0FBTzNLLE1BQVEsS0FDcEJxSyxPQUFPVyxXQUFhLEtBQ2xCWCxPQUFPVyxXQUFhWCxPQUFPYSxhQVNyQyxHQUFJdUIsSUFDRi9CLFFBQ0ssQ0FDTy9LLFNBQVNDLGVBQWUsb0JBQ2hDd0ssUUFBUyxFQXlCZixTQUFTRCxFQUFXdUMsR0FnQmxCLEdBZmUsZUFBWEEsRUFBRUMsT0FDSkQsRUFBRUUsaUJBQ0Y5QyxHQUFzQixHQUdULGNBQVg0QyxFQUFFQyxPQUNKRCxFQUFFRSxpQkFDRjlDLEVBQXFCLEdBR1IsVUFBWDRDLEVBQUVDLE9BQ0pELEVBQUVFLGlCRnZESixHQUFlLEdFMkRBLFdBQVhGLEVBQUVDLEtBQW1CLENBQ3ZCRCxFQUFFRSxpQkFDRjdDLEdBQVMsRUFDR3BLLFNBQVNDLGVBQWUsVUFDaEN3SyxRQUFTLEVBR2YsR0FBZSxVQUFYc0MsRUFBRUMsT0FDSkQsRUFBRUUsaUJBQ0U3QyxHQUFRLENBQ0VwSyxTQUFTQyxlQUFlLFVBQ2hDd0ssUUFBUyxFQUNiTCxHQUFTLEVBQ1RRLEtBbERORixPQUFPa0IsaUJBQWlCLFVBQVUsV0FDaEMsTUFBTXNCLEVBQU1sTixTQUFTQyxlQUFlLG9CQUNoQzZNLEtBQ0ZJLEVBQUl6QyxRQUFTLEVBQ1RMLEdBQ0ZBLEdBQVMsRUFDVFEsS0FFQUcsTUFJRlgsR0FBUyxFQUNUOEMsRUFBSXpDLFFBQVMsTUFPakJ6SyxTQUFTNEwsaUJBQWlCLFVBQVdwQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy9wcm9qZWN0aW9uIHNldHRpbmdzXG5leHBvcnQgY29uc3QgQ0FOVkFTX1dJRFRIID0gNTYwLjA7XG5leHBvcnQgY29uc3QgQ0FOVkFTX0hFSUdIVCA9IDM2MC4wO1xuZXhwb3J0IGNvbnN0IFpfSE9SSVpPTiA9IDEwMDAuMDtcbmV4cG9ydCBjb25zdCBZX0hPUklaT04gPSBDQU5WQVNfSEVJR0hUIC0gMTAwLjA7XG5leHBvcnQgY29uc3QgWl9NSU4gPSAxMDAuMDtcbmV4cG9ydCBjb25zdCBZX0NBTV9ST0FEID0gLTEwMC4wO1xuXG4vL3NwZWVkIGFuZCBibG9ja3NcbmV4cG9ydCBjb25zdCBTUEVFRCA9IDQ7IC8vei1heGlzIHVuaXRzIHBlciB0aWNrXG5leHBvcnQgY29uc3QgU1BFRURfRk9SRVNUID0gMTsgLy96LWF4aXMgdW5pdHMgcGVyIHRpY2tcbmV4cG9ydCBjb25zdCBUSU1FX0JFVFdFRU5fQkxPQ0tTID0gMC45OyAgLy9zZWNvbmRzXG5leHBvcnQgY29uc3QgVElDS1NfUEVSX0JMT0NLID0gTWF0aC5mbG9vcig2MC4wICogVElNRV9CRVRXRUVOX0JMT0NLUyk7XG5leHBvcnQgY29uc3QgRElTVEFOQ0VfQkVUV0VFTl9CTE9DS1MgPSBTUEVFRCAqIFRJQ0tTX1BFUl9CTE9DSztcbmV4cG9ydCBjb25zdCBOVU1fT0ZfQkxPQ0tTID0gTWF0aC5jZWlsKChaX0hPUklaT04gLSBaX01JTikgL0RJU1RBTkNFX0JFVFdFRU5fQkxPQ0tTKSArIDE7XG5leHBvcnQgY29uc3QgQkxPQ0tfUFJPQkFCSUxJVFkgPSAwLjc7XG5leHBvcnQgY29uc3QgQ09VTlRET1dOX1RJTUUgPSA2MDsgLy9zZWNvbmRzXG5cbi8vb2JqZWN0c1xuZXhwb3J0IGNvbnN0IFJPQURfV0lEVEggPSA0MjAuMDtcbmV4cG9ydCBjb25zdCBNQVhfUE9TSVRJT04gPSBST0FEX1dJRFRILzQ7XG5leHBvcnQgY29uc3QgTUFSS19MRU5HVEggPSA0MC4wO1xuZXhwb3J0IGNvbnN0IE5VTV9PRl9ST0FEX01BUktTID0gTWF0aC5mbG9vcigoWl9IT1JJWk9OIC0gWl9NSU4pIC8gKE1BUktfTEVOR1RIICsgTUFSS19MRU5HVEgpKSArIDE7XG5leHBvcnQgY29uc3QgQkxPQ0tfV0lEVEggPSBST0FEX1dJRFRIICogMy4wIC8gOC4wO1xuZXhwb3J0IGNvbnN0IEJMT0NLX01BUkdJTiA9IChST0FEX1dJRFRIIC8gMi4wIC0gQkxPQ0tfV0lEVEgpIC8yLjA7XG5leHBvcnQgY29uc3QgQkxPQ0tfSEVJR0hUID0gQkxPQ0tfV0lEVEggLyAyLjA7XG5leHBvcnQgY29uc3QgQ0FSX1dJRFRIID0gQkxPQ0tfV0lEVEg7XG5leHBvcnQgY29uc3QgV0FMTF9IRUlHSFQgPSAzNjA7XG5cbmV4cG9ydCBjb25zdCBOVU1fT0ZfU1RBUlMgPSA4O1xuZXhwb3J0IGNvbnN0IFNUQVJfUkVHSU9OX01BUkdJTiA9IDEyMDtcbmV4cG9ydCBjb25zdCBTVEFSX1JFR0lPTl9NQVJHSU5fVE9QID0gMjA7XG5leHBvcnQgY29uc3QgU1RBUl9SRUdJT05fSEVJR0hUID0gMTAwOyIsImltcG9ydCB7Wl9NSU4sIFpfSE9SSVpPTiwgWV9DQU1fUk9BRCwgWV9IT1JJWk9OLCBDQU5WQVNfV0lEVEggfSBmcm9tICcuL2NvbnN0cyc7XG4vL01vZGVsUG9pbnQgLT4gQ2FtZXJhUG9pbnQgLT4gQ2FudmFzUG9pbnRcbmV4cG9ydCB0eXBlIENhbnZhc1BvaW50ID0ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxudHlwZSBDYW1lcmFQb2ludCA9IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIE1vZGVsUG9pbnQgPSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB6OiBudW1iZXI7XG59XG5cblxuZnVuY3Rpb24gY2FtZXJhUG9pbnQgKG1vZGVsUG9pbnQ6IE1vZGVsUG9pbnQpIDogQ2FtZXJhUG9pbnQge1xuICByZXR1cm4ge1xuICAgICAgeDogbW9kZWxQb2ludC54KlpfTUlOIC8gbW9kZWxQb2ludC56LFxuICAgICAgeTogKG1vZGVsUG9pbnQueStZX0NBTV9ST0FEKSpaX01JTiAvIG1vZGVsUG9pbnQueixcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbnZhc1BvaW50IChtb2RlbFBvaW50OiBNb2RlbFBvaW50KSA6IENhbnZhc1BvaW50IHtcbiAgbGV0IHBvaW50ID0gY2FtZXJhUG9pbnQobW9kZWxQb2ludCk7XG4gIHJldHVybiB7XG4gICAgICB4OiBDQU5WQVNfV0lEVEggLyAyLjAgKyBwb2ludC54LFxuICAgICAgeTogWV9IT1JJWk9OIC0gcG9pbnQueSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5maW5pdHlQb2ludCAoKSB7XG4gIHJldHVybiBjYW52YXNQb2ludCh7eDogMC4wLCB5OiAwLjAsejogWl9IT1JJWk9OfSk7XG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1JlY3RYWSAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBsZWZ0X2JvdHRvbV9wb2ludDogTW9kZWxQb2ludCwgcmlnaHRfdG9wX3BvaW50OiBNb2RlbFBvaW50KSB7XG5cbiAgY29uc3QgbGVmdF90b3BfcG9pbnQ6IE1vZGVsUG9pbnQgPSB7XG4gICAgICB4OiBsZWZ0X2JvdHRvbV9wb2ludC54LFxuICAgICAgeTogcmlnaHRfdG9wX3BvaW50LnksXG4gICAgICB6OiByaWdodF90b3BfcG9pbnQueixcbiAgfTtcbiAgY29uc3QgcmlnaHRfYm90dG9tX3BvaW50OiBNb2RlbFBvaW50ID0ge1xuICAgICAgeDogcmlnaHRfdG9wX3BvaW50LngsXG4gICAgICB5OiBsZWZ0X2JvdHRvbV9wb2ludC55LFxuICAgICAgejogbGVmdF9ib3R0b21fcG9pbnQueixcbiAgfTtcblxuICBjb25zdCBsYnBfY2FudmFzID0gY2FudmFzUG9pbnQobGVmdF9ib3R0b21fcG9pbnQpO1xuICBjb25zdCBsdHBfY2FudmFzID0gY2FudmFzUG9pbnQobGVmdF90b3BfcG9pbnQpO1xuICBjb25zdCBydHBfY2FudmFzID0gY2FudmFzUG9pbnQocmlnaHRfdG9wX3BvaW50KTtcbiAgY29uc3QgcmJwX2NhbnZhcyA9IGNhbnZhc1BvaW50KHJpZ2h0X2JvdHRvbV9wb2ludCk7XG5cbiAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgXG4gIGNvbnRleHRcbiAgICAgIC5tb3ZlVG8obGJwX2NhbnZhcy54LCBsYnBfY2FudmFzLnkpO1xuXG4gIGNvbnRleHRcbiAgICAgIC5saW5lVG8obHRwX2NhbnZhcy54LCBsdHBfY2FudmFzLnkpO1xuXG4gIGNvbnRleHRcbiAgICAgIC5saW5lVG8ocnRwX2NhbnZhcy54LCBydHBfY2FudmFzLnkpO1xuXG4gIGNvbnRleHRcbiAgICAgIC5saW5lVG8ocmJwX2NhbnZhcy54LCByYnBfY2FudmFzLnkpO1xuXG4gIGNvbnRleHQuZmlsbCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1JlY3RZWiAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBmYXJfYm90dG9tX3BvaW50OiBNb2RlbFBvaW50LCBjbG9zZV90b3BfcG9pbnQ6IE1vZGVsUG9pbnQpIHtcblxuICBjb25zdCBmYXJfdG9wX3BvaW50OiBNb2RlbFBvaW50ID0ge1xuICAgICAgeDogZmFyX2JvdHRvbV9wb2ludC54LFxuICAgICAgeTogY2xvc2VfdG9wX3BvaW50LnksXG4gICAgICB6OiBmYXJfYm90dG9tX3BvaW50LnosXG4gIH07XG4gIGNvbnN0IGNsb3NlX2JvdHRvbV9wb2ludDogTW9kZWxQb2ludCA9IHtcbiAgICAgIHg6IGNsb3NlX3RvcF9wb2ludC54LFxuICAgICAgeTogZmFyX2JvdHRvbV9wb2ludC55LFxuICAgICAgejogY2xvc2VfdG9wX3BvaW50LnosXG4gIH07XG5cbiAgY29uc3QgZmJwX2NhbnZhcyA9IGNhbnZhc1BvaW50KGZhcl9ib3R0b21fcG9pbnQpO1xuICBjb25zdCBmdHBfY2FudmFzID0gY2FudmFzUG9pbnQoZmFyX3RvcF9wb2ludCk7XG4gIGNvbnN0IGN0cF9jYW52YXMgPSBjYW52YXNQb2ludChjbG9zZV90b3BfcG9pbnQpO1xuICBjb25zdCBjYnBfY2FudmFzID0gY2FudmFzUG9pbnQoY2xvc2VfYm90dG9tX3BvaW50KTtcblxuICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICBcbiAgY29udGV4dFxuICAgICAgLm1vdmVUbyhmYnBfY2FudmFzLngsIGZicF9jYW52YXMueSk7XG5cbiAgY29udGV4dFxuICAgICAgLmxpbmVUbyhmdHBfY2FudmFzLngsIGZ0cF9jYW52YXMueSk7XG5cbiAgY29udGV4dFxuICAgICAgLmxpbmVUbyhjdHBfY2FudmFzLngsIGN0cF9jYW52YXMueSk7XG5cbiAgY29udGV4dFxuICAgICAgLmxpbmVUbyhjYnBfY2FudmFzLngsIGNicF9jYW52YXMueSk7XG5cbiAgY29udGV4dC5maWxsKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3UmVjdFhaIChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNsb3NlX2xlZnRfcG9pbnQ6IE1vZGVsUG9pbnQsIGZhcl9yaWdodF9wb2ludDogTW9kZWxQb2ludCkge1xuXG4gIGNvbnN0IGZhcl9sZWZ0X3BvaW50OiBNb2RlbFBvaW50ID0ge1xuICAgICAgeDogY2xvc2VfbGVmdF9wb2ludC54LFxuICAgICAgeTogY2xvc2VfbGVmdF9wb2ludC55LFxuICAgICAgejogZmFyX3JpZ2h0X3BvaW50LnosXG4gIH07XG4gIGNvbnN0IGNsb3NlX3JpZ2h0X3BvaW50OiBNb2RlbFBvaW50ID0ge1xuICAgICAgeDogZmFyX3JpZ2h0X3BvaW50LngsXG4gICAgICB5OiBmYXJfcmlnaHRfcG9pbnQueSxcbiAgICAgIHo6IGNsb3NlX2xlZnRfcG9pbnQueixcbiAgfTtcblxuICBjb25zdCBjbHBfY2FudmFzID0gY2FudmFzUG9pbnQoY2xvc2VfbGVmdF9wb2ludCk7XG4gIGNvbnN0IGZscF9jYW52YXMgPSBjYW52YXNQb2ludChmYXJfbGVmdF9wb2ludCk7XG4gIGNvbnN0IGZycF9jYW52YXMgPSBjYW52YXNQb2ludChmYXJfcmlnaHRfcG9pbnQpO1xuICBjb25zdCBjcnBfY2FudmFzID0gY2FudmFzUG9pbnQoY2xvc2VfcmlnaHRfcG9pbnQpO1xuXG4gIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gIFxuICBjb250ZXh0XG4gICAgICAubW92ZVRvKGNscF9jYW52YXMueCwgY2xwX2NhbnZhcy55KTtcblxuICBjb250ZXh0XG4gICAgICAubGluZVRvKGZscF9jYW52YXMueCwgZmxwX2NhbnZhcy55KTtcblxuICBjb250ZXh0XG4gICAgICAubGluZVRvKGZycF9jYW52YXMueCwgZnJwX2NhbnZhcy55KTtcblxuICBjb250ZXh0XG4gICAgICAubGluZVRvKGNycF9jYW52YXMueCwgY3JwX2NhbnZhcy55KTtcblxuICBjb250ZXh0LmZpbGwoKTtcbn0iLCJpbXBvcnQge2NhbnZhc1BvaW50LCBpbmZpbml0eVBvaW50LCBkcmF3UmVjdFhZLCBkcmF3UmVjdFlaLCBkcmF3UmVjdFhafSBmcm9tICcuL3Byb2plY3Rpb24nO1xuaW1wb3J0IHR5cGUge01vZGVsUG9pbnQsIENhbnZhc1BvaW50fSBmcm9tICcuL3Byb2plY3Rpb24nO1xuaW1wb3J0ICogYXMgQ09OU1RTIGZyb20gJy4vY29uc3RzJyBcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG50eXBlIFRleHR1cmVEZXNjcmlwdGlvbiA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7IFxuICB3aWR0aDogbnVtYmVyOyBcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5jb25zdCBpbWFnZURlc2NyaXB0aW9ucyA6IFRleHR1cmVEZXNjcmlwdGlvbltdID0gW1xuICB7XG4gICAgbmFtZTogJ2NvbmNyZXRlJyxcbiAgICBwYXRoOiAnaW1hZ2VzL2NvbmNyZXRlLnBuZycsXG4gICAgd2lkdGg6IDEyMCxcbiAgICBoZWlnaHQ6IDgwLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ2NvbmNyZXRlX2ZhcicsXG4gICAgcGF0aDogJ2ltYWdlcy9jb25jcmV0ZV9mYXIucG5nJyxcbiAgICB3aWR0aDogMTIwLFxuICAgIGhlaWdodDogODAsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnY29uY3JldGVfY2xvc2UnLFxuICAgIHBhdGg6ICdpbWFnZXMvY29uY3JldGVfY2xvc2UucG5nJyxcbiAgICB3aWR0aDogMjQwLFxuICAgIGhlaWdodDogMTYwLFxuICB9LFxuXTtcbmNvbnN0IHJhd0RhdGFEZXNjcmlwdGlvbnMgOiBUZXh0dXJlRGVzY3JpcHRpb25bXSA9IFtcbiAge1xuICAgIG5hbWU6ICdmb3Jlc3RfbGVmdCcsXG4gICAgcGF0aDogJ2ltYWdlcy9mb3Jlc3RfbGVmdC5wbmcnLFxuICAgIHdpZHRoOiA2MDAsXG4gICAgaGVpZ2h0OiBDT05TVFMuV0FMTF9IRUlHSFQsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnZm9yZXN0X3JpZ2h0JyxcbiAgICBwYXRoOiAnaW1hZ2VzL2ZvcmVzdF9yaWdodC5wbmcnLFxuICAgIHdpZHRoOiA2MDAsXG4gICAgaGVpZ2h0OiBDT05TVFMuV0FMTF9IRUlHSFQsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnZ3JvdW5kJyxcbiAgICBwYXRoOiAnaW1hZ2VzL2dyb3VuZC5wbmcnLFxuICAgIHdpZHRoOiA1MCxcbiAgICBoZWlnaHQ6IDUwLFxuICB9LFxuXTtcblxuXG5jb25zdCByYXdEYXRhID0gbmV3IE1hcDxzdHJpbmcsIEltYWdlRGF0YT4oKTtcbmNvbnN0IGltYWdlcyA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MSW1hZ2VFbGVtZW50PigpO1xuXG5mdW5jdGlvbiBwcm9taXNpZnlJbWFnZUxvYWQgKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiAoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCl7XG4gICAgICByZXNvbHZlKGltYWdlKTtcbiAgICB9XG4gICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZFJhd0RhdGEgKCkge1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhcy10ZWNoXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBjb25zdCBwcm9taXNlQXJyYXkgPSByYXdEYXRhRGVzY3JpcHRpb25zLm1hcCAoZGVzY3JpcHRpb24gPT4ge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKGRlc2NyaXB0aW9uLndpZHRoLCBkZXNjcmlwdGlvbi5oZWlnaHQpO1xuICAgIGltYWdlLnNyYyA9IGRlc2NyaXB0aW9uLnBhdGg7XG4gICAgcmV0dXJuIHByb21pc2lmeUltYWdlTG9hZChpbWFnZSkudGhlbihpbWFnZSA9PiB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBkZXNjcmlwdGlvbi5uYW1lLFxuICAgICAgICBpbWFnZURhdGE6IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxkZXNjcmlwdGlvbi53aWR0aCwgZGVzY3JpcHRpb24uaGVpZ2h0KVxuICAgICAgfX0pO1xuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKG5hbWVkSW1hZ2VEYXRhID0+IHtcbiAgICBmb3IgKGNvbnN0IGVsIG9mIG5hbWVkSW1hZ2VEYXRhKSB7XG4gICAgICByYXdEYXRhLnNldChlbC5uYW1lLCBlbC5pbWFnZURhdGEpO1xuICAgIH1cbiAgICBjYW52YXMucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoY2FudmFzKTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZEltYWdlcyAoKSB7XG4gIGNvbnN0IHByb21pc2VBcnJheSA9IGltYWdlRGVzY3JpcHRpb25zLm1hcCAoZGVzY3JpcHRpb24gPT4ge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKGRlc2NyaXB0aW9uLndpZHRoLCBkZXNjcmlwdGlvbi5oZWlnaHQpO1xuICAgIGltYWdlLnNyYyA9IGRlc2NyaXB0aW9uLnBhdGg7XG4gICAgcmV0dXJuIHByb21pc2lmeUltYWdlTG9hZChpbWFnZSkudGhlbihpbWFnZSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBkZXNjcmlwdGlvbi5uYW1lLFxuICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICB9fSk7XG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlQXJyYXkpLnRoZW4obmFtZWRJbWFnZXMgPT4ge1xuICAgIGZvciAoY29uc3QgZWwgb2YgbmFtZWRJbWFnZXMpIHtcbiAgICAgIGltYWdlcy5zZXQoZWwubmFtZSwgZWwuaW1hZ2UpO1xuICAgIH1cbiAgICBcbiAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgY29udGV4dC5jbGVhclJlY3QoMC4wLCAwLjAsIENPTlNUUy5DQU5WQVNfV0lEVEgsIENPTlNUUy5DQU5WQVNfSEVJR0hUKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcmF3QmFja2dyb3VuZCAocm9hZENlbnRlcjogbnVtYmVyLCBtb3ZlRm9yZXN0Qnk6IG51bWJlciwgaGlnaERldGFpbHM6IGJvb2xlYW4pIHtcbiAgY29uc3Qgc2t5Q29sb3IgPSAgXCJibGFja1wiO1xuICBjb25zdCBob3Jpem9uX3kgPSBpbmZpbml0eVBvaW50KCkueTtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBza3lDb2xvcjtcbiAgY29udGV4dC5maWxsUmVjdCgwLjAsIDAuMCwgQ09OU1RTLkNBTlZBU19XSURUSCwgaG9yaXpvbl95KTtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gIGNvbnRleHQuZmlsbFJlY3QoMC4wLCBob3Jpem9uX3ksIENPTlNUUy5DQU5WQVNfV0lEVEgsIENPTlNUUy5DQU5WQVNfSEVJR0hUIC0gaG9yaXpvbl95KTtcblxuICBpZiAoaGlnaERldGFpbHMpIHtcbiAgICBjb25zdCBsZWZ0bW9zdFggPSByb2FkQ2VudGVyIC0gQ09OU1RTLkNBTlZBU19XSURUSC8yIC0gQ09OU1RTLk1BWF9QT1NJVElPTjtcbiAgICBjb25zdCByaWdodG1vc3RYID0gcm9hZENlbnRlciArIENPTlNUUy5DQU5WQVNfV0lEVEgvMiArIENPTlNUUy5NQVhfUE9TSVRJT047XG5cbiAgICBjb25zdCBmb3Jlc3RMZWZ0ID0gcmF3RGF0YS5nZXQoJ2ZvcmVzdF9sZWZ0JykgYXMgSW1hZ2VEYXRhO1xuICAgIGRyYXdGb3Jlc3QoZm9yZXN0TGVmdCwgb2Zmc2V0TGVmdCwgbGVmdG1vc3RYLCAnZm9yZXN0X2xlZnQnKTtcbiAgICBvZmZzZXRMZWZ0ID0gbmV4dE9mZnNldChvZmZzZXRMZWZ0LCBmb3Jlc3RMZWZ0LndpZHRoLCBtb3ZlRm9yZXN0QnkpO1xuICAgIFxuICAgIGNvbnN0IGZvcmVzdFJpZ2h0PSByYXdEYXRhLmdldCgnZm9yZXN0X3JpZ2h0JykgYXMgSW1hZ2VEYXRhO1xuICAgIGRyYXdGb3Jlc3QoZm9yZXN0UmlnaHQsIG9mZnNldFJpZ2h0LCByaWdodG1vc3RYLCAnZm9yZXN0X3JpZ2h0Jyk7XG4gICAgb2Zmc2V0UmlnaHQgPSBuZXh0T2Zmc2V0KG9mZnNldFJpZ2h0LCBmb3Jlc3RSaWdodC53aWR0aCwgbW92ZUZvcmVzdEJ5KTtcbiAgfVxuICBkcmF3Um9hZChyb2FkQ2VudGVyKTtcbn0gXG5cblxuY29uc3Qgc3RhcnMgOiB7eDogbnVtYmVyOyB5OiBudW1iZXJ9W10gPSBbXTtcbmZ1bmN0aW9uIGNyZWF0ZVN0YXIgKCkge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGguZmxvb3IoQ09OU1RTLlNUQVJfUkVHSU9OX01BUkdJTiArIE1hdGgucmFuZG9tKCkqKENPTlNUUy5DQU5WQVNfV0lEVEggLSBDT05TVFMuU1RBUl9SRUdJT05fTUFSR0lOKjIpKSxcbiAgICB5OiBNYXRoLmZsb29yKENPTlNUUy5TVEFSX1JFR0lPTl9NQVJHSU5fVE9QICsgTWF0aC5yYW5kb20oKSpDT05TVFMuU1RBUl9SRUdJT05fSEVJR0hUKSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1N0YXJzICgpIHtcbiAgXG4gIGlmIChzdGFycy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IENPTlNUUy5OVU1fT0ZfU1RBUlM7IGkrKykge1xuICAgICAgc3RhcnMucHVzaChjcmVhdGVTdGFyKCkpXG4gICAgfVxuICB9XG5cbiAgLypcbiAgaWYgKGVsYXBzZWRTZWMgPiAwICYmIChNYXRoLmZsb29yKGVsYXBzZWRTZWMpICUgMTUgPT09IDApKSB7XG4gICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqQ09OU1RTLk5VTV9PRl9TVEFSUyk7XG4gICAgc3RhcnNbaW5kZXhdID0gY3JlYXRlU3RhcigpO1xuICB9XG4gICovXG4gIGZvciAoY29uc3Qgc3RhciBvZiBzdGFycykge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KHN0YXIueCwgc3Rhci55LCAyLCAyKTtcbiAgfVxuICBcblxuXG59XG5cbmZ1bmN0aW9uIGRyYXdSb2FkIChyb2FkQ2VudGVyOiBudW1iZXIpIHtcbiAgY29uc3Qgcm9hZF9sZWZ0X2JvdHRvbV9wb2ludCA6IE1vZGVsUG9pbnQgPSB7eDogcm9hZENlbnRlci1DT05TVFMuUk9BRF9XSURUSC8yLCB5OiAwLjAsIHo6IENPTlNUUy5aX01JTn07XG4gIGNvbnN0IHJvYWRfcmlnaHRfdG9wX3BvaW50IDogTW9kZWxQb2ludCA9IHt4OiByb2FkQ2VudGVyK0NPTlNUUy5ST0FEX1dJRFRILzIsIHk6IDAuMCwgejogQ09OU1RTLlpfSE9SSVpPTn07XG4gIGNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICBkcmF3UmVjdFhZKGNvbnRleHQsIHJvYWRfbGVmdF9ib3R0b21fcG9pbnQsIHJvYWRfcmlnaHRfdG9wX3BvaW50KTtcbiAgXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICBkcmF3UmVjdFhZKGNvbnRleHQsIHsuLi5yb2FkX2xlZnRfYm90dG9tX3BvaW50LCB4OiByb2FkX2xlZnRfYm90dG9tX3BvaW50LnggLSAxMH0sIHsuLi5yb2FkX2xlZnRfYm90dG9tX3BvaW50LCB6OiBDT05TVFMuWl9IT1JJWk9OfSk7XG4gIGRyYXdSZWN0WFkoY29udGV4dCwgey4uLnJvYWRfcmlnaHRfdG9wX3BvaW50LCB6OiBDT05TVFMuWl9NSU59LCB7Li4ucm9hZF9yaWdodF90b3BfcG9pbnQsIHg6IHJvYWRfcmlnaHRfdG9wX3BvaW50LngrMTB9KTtcbn1cblxubGV0IG9mZnNldExlZnQgPSAwO1xubGV0IG9mZnNldFJpZ2h0ID0gMDtcbmZ1bmN0aW9uIG5leHRPZmZzZXQgKG9mZnNldDogbnVtYmVyLCB0ZXh0dXJlV2lkdGg6IG51bWJlciwgbW92ZUJ5OiBudW1iZXIpIHtcbiAgcmV0dXJuIChvZmZzZXQgKyBDT05TVFMuU1BFRURfRk9SRVNUICogbW92ZUJ5KSAlIHRleHR1cmVXaWR0aDtcbn1cblxuZnVuY3Rpb24gZHJhd0ZvcmVzdCAob3JpZ2luYWxJbWFnZURhdGE6IEltYWdlRGF0YSwgb2Zmc2V0OiBudW1iZXIsIG1heFg6IG51bWJlciwgY2FjaGVLZXk6IHN0cmluZykge1xuXG4gIGNvbnN0IGNicCA9IGNhbnZhc1BvaW50KHt4OiBtYXhYLCB5OiAwLCB6OiBDT05TVFMuWl9NSU59KTtcbiAgY29uc3QgY3RwID0gY2FudmFzUG9pbnQoe3g6IG1heFgsIHk6IENPTlNUUy5XQUxMX0hFSUdIVCwgejogQ09OU1RTLlpfTUlOfSk7XG4gIGNvbnN0IGZicCA9IGNhbnZhc1BvaW50KHt4OiBtYXhYLCB5OiAwLCB6OiBDT05TVFMuWl9IT1JJWk9OfSk7XG4gIGNvbnN0IGZ0cCA9IGNhbnZhc1BvaW50KHt4OiBtYXhYLCB5OiBDT05TVFMuV0FMTF9IRUlHSFQsIHo6IENPTlNUUy5aX0hPUklaT059KTtcbiAgY29uc3QgY2FudmFzV2lkdGggPSBNYXRoLmFicyhmdHAueCAtIGN0cC54KTtcblxuICAvL3kgPSBreCtiXG4gIGNvbnN0IGsgPSAoZmJwLnkgLSBjYnAueSkgLyAoZmJwLnggLSBjYnAueCk7XG4gIGNvbnN0IGIgPSBjYnAueCA8IGZicC54ID8gb3JpZ2luYWxJbWFnZURhdGEuaGVpZ2h0IDogb3JpZ2luYWxJbWFnZURhdGEuaGVpZ2h0IC0gKENPTlNUUy5DQU5WQVNfSEVJR0hUIC0gZmJwLnkpO1xuXG4gIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBvcmlnaW5hbEltYWdlRGF0YS5kYXRhO1xuICBjb25zdCB3aWR0aCA9IG9yaWdpbmFsSW1hZ2VEYXRhLndpZHRoO1xuICBjb25zdCBoZWlnaHQgPSBvcmlnaW5hbEltYWdlRGF0YS5oZWlnaHQ7XG5cbiAgY29uc3QgZ3JvdW5kID0gcmF3RGF0YS5nZXQoJ2dyb3VuZCcpIGFzIEltYWdlRGF0YTtcbiAgY29uc3QgZ3JvdW5kQXJyYXkgPSBncm91bmQuZGF0YTtcbiAgY29uc3QgZ3JvdW5kV2lkdGggPSBncm91bmQud2lkdGg7XG4gIGNvbnN0IGdyb3VuZEhlaWdodCA9IGdyb3VuZC5oZWlnaHQ7XG4gIGNvbnN0IGdyb3VuZFhNYXggPSBtYXhYID4gMCA/IG1heFggOiBtYXhYIC0gZ3JvdW5kV2lkdGg7XG4gIGNvbnN0IGdyb3VuZFhNaW4gPSBtYXhYID4gMCA/IG1heFggLSBncm91bmRXaWR0aCA6IG1heFg7XG5cbiAgY29uc3QgYXJyID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KG9yaWdpbmFsQXJyYXkubGVuZ3RoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaTwgYXJyLmxlbmd0aDsgaT1pKzQpIHtcblxuICAgIGNvbnN0IHggPSAoaS80KSAlIHdpZHRoO1xuICAgIGlmICh4ID4gY2FudmFzV2lkdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB5ID0gKGkvNCAtIHgpIC8gd2lkdGg7XG5cbiAgICBjb25zdCBjYW1lcmFZID0gQ09OU1RTLldBTExfSEVJR0hUIC0geSArIENPTlNUUy5ZX0NBTV9ST0FEO1xuICAgIFxuICAgIGlmICh5ID4gKHggKiBrICsgYikpIHtcblxuICAgICAgLypcbiAgICAgIGFycltpXSA9IDA7XG4gICAgICBhcnJbaSsxXSA9IDA7XG4gICAgICBhcnJbaSsyXSA9IDA7XG4gICAgICBhcnJbaSszXSA9IDI1NTtcbiAgICAgIGNvbnRpbnVlO1xuICAgICAgKi9cblxuICAgICAgLy/Qk9C+0YDQuNC30L7QvdGC0LDQu9GM0L3QsNGPINGC0LXQutGB0YLRg9GA0LBcbiAgICAgIGNvbnN0IG1vZGVsWiA9ICgwICsgQ09OU1RTLllfQ0FNX1JPQUQpICogQ09OU1RTLlpfTUlOIC8gY2FtZXJhWTtcbiAgICAgIGNvbnN0IGNhbWVyYVggPSBtYXhYIDwgMCA/IHggKyBjYnAueCAtIENPTlNUUy5DQU5WQVNfV0lEVEgvMiA6IHggKyBmYnAueCAtIENPTlNUUy5DQU5WQVNfV0lEVEgvMjtcbiAgICAgIGNvbnN0IG1vZGVsWCA9IGNhbWVyYVggKiBtb2RlbFogLyBDT05TVFMuWl9NSU47XG4gICAgICBjb25zdCBvcmlnaW5hbFggPSBtYXhYIDwgMCA/IE1hdGguZmxvb3IobW9kZWxYIC0gZ3JvdW5kWE1pbikgOiBNYXRoLmZsb29yKGdyb3VuZFdpZHRoIC0gbW9kZWxYICsgZ3JvdW5kWE1pbik7XG4gICAgICBpZiAob3JpZ2luYWxYIDwgMCB8fCBvcmlnaW5hbFggPj0gZ3JvdW5kV2lkdGgpIHtcbiAgICAgICAgYXJyW2ldID0gMDtcbiAgICAgICAgYXJyW2krMV0gPSAwO1xuICAgICAgICBhcnJbaSsyXSA9IDA7XG4gICAgICAgIGFycltpKzNdID0gMjU1O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9yaWdpbmFsWSA9IE1hdGguZmxvb3IobW9kZWxaIC0gQ09OU1RTLlpfTUlOICsgb2Zmc2V0KSAlIGdyb3VuZEhlaWdodDtcbiBcbiAgICAgIGNvbnN0IG9yaWdpbmFsSSA9IChvcmlnaW5hbFkgKiBncm91bmRXaWR0aCArIG9yaWdpbmFsWCkqNDtcblxuICAgICAgY29uc3QgYWRqdXN0bWVudCA9IG9yaWdpbmFsWCA+IDEwID8gTWF0aC5mbG9vcigob3JpZ2luYWxYIC0gMTApLyhncm91bmRXaWR0aCAtIDEwKSAqIDI1NSkgOiAwO1xuICAgICAgYXJyW2ldID0gZ3JvdW5kQXJyYXlbb3JpZ2luYWxJXSAtIGFkanVzdG1lbnQ7XG4gICAgICBhcnJbaSsxXSA9IGdyb3VuZEFycmF5W29yaWdpbmFsSSsxXSAtIGFkanVzdG1lbnQ7XG4gICAgICBhcnJbaSsyXSA9IGdyb3VuZEFycmF5W29yaWdpbmFsSSsyXSAtIGFkanVzdG1lbnQ7XG4gICAgICBhcnJbaSszXSA9IGdyb3VuZEFycmF5W29yaWdpbmFsSSszXTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8v0JLQtdGA0YLQuNC60LDQu9GM0L3QsNGPINGC0LXQutGB0YLRg9GA0LBcbiAgICAgIGNvbnN0IG1vZGVsWCA9IHggKyBtYXhYIC0gKG1heFggPiAwID8gY2FudmFzV2lkdGggOiAwKTtcbiAgICAgIGNvbnN0IG1vZGVsWiA9IG1heFggKiBDT05TVFMuWl9NSU4gLyBtb2RlbFg7XG4gICAgICBjb25zdCBtb2RlbFkgPSBjYW1lcmFZICogbW9kZWxaIC8gQ09OU1RTLlpfTUlOIC0gQ09OU1RTLllfQ0FNX1JPQUQ7XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsWCA9IChNYXRoLmZsb29yKG1vZGVsWiAtIENPTlNUUy5aX01JTikgKyBvZmZzZXQpICUgd2lkdGg7XG4gICAgICBpZiAob3JpZ2luYWxYIDwgMCB8fCBvcmlnaW5hbFggPiB3aWR0aCkge1xuICAgICAgICBhcnJbaV0gPSAwO1xuICAgICAgICBhcnJbaSsxXSA9IDA7XG4gICAgICAgIGFycltpKzJdID0gMDtcbiAgICAgICAgYXJyW2krM10gPSAyNTU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3JpZ2luYWxZID0gTWF0aC5mbG9vcihDT05TVFMuV0FMTF9IRUlHSFQgLSBtb2RlbFkpO1xuICAgICAgaWYgKG9yaWdpbmFsWSA8IDAgfHwgb3JpZ2luYWxZID4gaGVpZ2h0KSB7XG4gICAgICAgIGFycltpKzFdID0gMDtcbiAgICAgICAgYXJyW2krMl0gPSAwO1xuICAgICAgICBhcnJbaSszXSA9IDI1NTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBvcmlnaW5hbEkgPSAob3JpZ2luYWxZICogd2lkdGggKyBvcmlnaW5hbFgpKjQ7XG4gICAgICBpZiAob3JpZ2luYWxJID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgYXJyW2krMV0gPSAwO1xuICAgICAgICBhcnJbaSsyXSA9IDA7XG4gICAgICAgIGFycltpKzNdID0gMjU1O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgYXJyW2ldID0gb3JpZ2luYWxBcnJheVtvcmlnaW5hbEldO1xuICAgICAgYXJyW2krMV0gPSBvcmlnaW5hbEFycmF5W29yaWdpbmFsSSsxXTtcbiAgICAgIGFycltpKzJdID0gb3JpZ2luYWxBcnJheVtvcmlnaW5hbEkrMl07XG4gICAgICBhcnJbaSszXSA9IG9yaWdpbmFsQXJyYXlbb3JpZ2luYWxJKzNdO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgaURhdGEgPSBuZXcgSW1hZ2VEYXRhKGFyciwgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnRleHQucHV0SW1hZ2VEYXRhKGlEYXRhICwgTWF0aC5taW4oY3RwLngsIGZ0cC54KSwgQ09OU1RTLkNBTlZBU19IRUlHSFQgLSBDT05TVFMuV0FMTF9IRUlHSFQsIDAsIDAsIGNhbnZhc1dpZHRoLCBDT05TVFMuV0FMTF9IRUlHSFQpO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3TWFyayAoejogbnVtYmVyLCByb2FkQ2VudGVyOiBudW1iZXIpIHtcbiAgbGV0IG1hcmtXaWR0aCA9IDIwLjA7XG4gIGxldCBtYXJrX2xlZnRfeCA9IHJvYWRDZW50ZXIgLSBtYXJrV2lkdGggLyAyLjA7XG4gIGxldCBtYXJrX3JpZ2h0X3ggPSByb2FkQ2VudGVyICsgbWFya1dpZHRoIC8gMi4wO1xuICBsZXQgbWFya19sZWZ0X2JvdHRvbV9wb2ludDogTW9kZWxQb2ludCA9IHt4OiBtYXJrX2xlZnRfeCwgeTogMC4wLCB6OiBNYXRoLm1heCh6LCBDT05TVFMuWl9NSU4pfTtcbiAgbGV0IG1hcmtfcmlnaHRfdG9wX3BvaW50OiBNb2RlbFBvaW50ID0ge3g6IG1hcmtfcmlnaHRfeCwgeTogMC4wLCB6OiBNYXRoLm1pbih6ICsgQ09OU1RTLk1BUktfTEVOR1RILCBDT05TVFMuWl9IT1JJWk9OKX07XG5cbiAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gIGRyYXdSZWN0WFkoY29udGV4dCwgbWFya19sZWZ0X2JvdHRvbV9wb2ludCwgbWFya19yaWdodF90b3BfcG9pbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tMZWZ0IChwb3NpdGlvbjogbnVtYmVyLCByb2FkQ2VudGVyOiBudW1iZXIpIHtcbiAgcmV0dXJuIHBvc2l0aW9uIDwgMC4wID8gcm9hZENlbnRlciAtIENPTlNUUy5CTE9DS19NQVJHSU4gLSBDT05TVFMuQkxPQ0tfV0lEVEggOiByb2FkQ2VudGVyICsgQ09OU1RTLkJMT0NLX01BUkdJTjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBibG9ja1JpZ2h0IChwb3NpdGlvbjogbnVtYmVyLCByb2FkQ2VudGVyOiBudW1iZXIpIHtcbiAgcmV0dXJuIHBvc2l0aW9uIDwgMC4wID8gcm9hZENlbnRlciAtIENPTlNUUy5CTE9DS19NQVJHSU4gOiByb2FkQ2VudGVyICsgQ09OU1RTLkJMT0NLX01BUkdJTiArIENPTlNUUy5CTE9DS19XSURUSDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcmF3QmxvY2sgKHo6IG51bWJlciwgcG9zaXRpb246IG51bWJlciwgcm9hZENlbnRlcjogbnVtYmVyKSB7XG4gIGxldCBibG9ja0xlZnRfeCA9IGJsb2NrTGVmdCAocG9zaXRpb24sIHJvYWRDZW50ZXIpO1xuICBsZXQgYmxvY2tSaWdodF94ID0gYmxvY2tSaWdodCAocG9zaXRpb24sIHJvYWRDZW50ZXIpO1xuXG5cbiAgaWYgKHogPCBDT05TVFMuWl9IT1JJWk9OIC8gMikge1xuICAgIC8vWVpcbiAgICBjb25zdCBibG9ja0VkZ2VfeCA9IHBvc2l0aW9uID4gMCA/IGJsb2NrTGVmdF94IDogYmxvY2tSaWdodF94O1xuICAgIGNvbnN0IGZicCA6IE1vZGVsUG9pbnQgPSB7eDogYmxvY2tFZGdlX3gsIHk6IDAsIHo6IHogKyAxMH07XG4gICAgY29uc3QgY3RwIDogTW9kZWxQb2ludCA9IHt4OiBibG9ja0VkZ2VfeCwgeTogQ09OU1RTLkJMT0NLX0hFSUdIVCwgen07XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBcImtoYWtpXCI7XG4gICAgZHJhd1JlY3RZWiAoY29udGV4dCwgZmJwLCBjdHApO1xuICAgIC8vWFpcbiAgICBjb25zdCBjbHAgOiBNb2RlbFBvaW50ID0ge3g6IGJsb2NrTGVmdF94LHk6IENPTlNUUy5CTE9DS19IRUlHSFQsIHo6IHp9O1xuICAgIGNvbnN0IGZycCA6IE1vZGVsUG9pbnQgPSB7eDogYmxvY2tSaWdodF94LCB5OiBDT05TVFMuQkxPQ0tfSEVJR0hULCB6OiB6ICsgMTB9O1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJraGFraVwiO1xuICAgIGRyYXdSZWN0WFogKGNvbnRleHQsIGNscCwgZnJwKTtcblxuICB9XG5cbiAgLy9YWVxuICBjb25zdCB0bHAgPSBjYW52YXNQb2ludCh7eDogYmxvY2tMZWZ0X3gsIHk6IENPTlNUUy5CTE9DS19IRUlHSFQsIHo6IHp9KTtcbiAgY29uc3QgYnJwID0gY2FudmFzUG9pbnQoe3g6IGJsb2NrUmlnaHRfeCwgeTogMC4wLCB6OiB6fSk7XG4gIGlmICh6ID4gKENPTlNUUy5aX0hPUklaT04gLSBDT05TVFMuWl9NSU4pICoyLzMpIHtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZXMuZ2V0KCdjb25jcmV0ZV9mYXInKSBhcyBIVE1MSW1hZ2VFbGVtZW50LCB0bHAueCwgdGxwLnksIGJycC54IC0gdGxwLngsIGJycC55IC0gdGxwLnkpO1xuICB9IGVsc2UgaWYgKHogPiAoQ09OU1RTLlpfSE9SSVpPTiAtIENPTlNUUy5aX01JTikgKjEvMykge1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlcy5nZXQoJ2NvbmNyZXRlJykgYXMgSFRNTEltYWdlRWxlbWVudCwgdGxwLngsIHRscC55LCBicnAueCAtIHRscC54LCBicnAueSAtIHRscC55KTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZXMuZ2V0KCdjb25jcmV0ZV9jbG9zZScpIGFzIEhUTUxJbWFnZUVsZW1lbnQsIHRscC54LCB0bHAueSwgYnJwLnggLSB0bHAueCwgYnJwLnkgLSB0bHAueSk7XG4gIH1cbiAgXG4gIFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHQgKHRleHQ6IHN0cmluZywgaGlnaGxpZ2h0OiBib29sZWFuKSB7XG4gIGNvbnRleHQuZm9udCA9ICcyMHB4IHNhbnMtc2VyaWYnO1xuICBpZiAoaGlnaGxpZ2h0KSB7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xuICB9IGVsc2Uge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgfVxuICBjb25zdCBURVhUX1dJRFRIID0gMTAwO1xuICBjb25zdCBURVhUX01BUkdJTiA9IDIwO1xuICBjb250ZXh0LmZpbGxUZXh0ICh0ZXh0LCBDT05TVFMuQ0FOVkFTX1dJRFRIIC0gVEVYVF9XSURUSCAtIFRFWFRfTUFSR0lOLCBURVhUX01BUkdJTiwgVEVYVF9XSURUSCk7XG59XG5cblxuLypcbmV4cG9ydCAgYXN5bmMgZnVuY3Rpb24gc2hhcmVJbWFnZVdpdGhXYXNtICgpIHtcbiAgY29uc3QgbWVtb3J5ID0gbmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDogMTAsIG1heGltdW06IDEwMH0pO1xuICBjb25zdCBieXRlcyA9IGF3YWl0IGZldGNoKFwid2FzbS9yb2FkX2dhbWVfd2FzbS53YXNtXCIpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGJ5dGVzLmFycmF5QnVmZmVyKCk7XG4gIGNvbnN0IHJlc3VsdE9iamVjdCA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHJlc3BvbnNlLCB7IGpzOiB7IG1lbTogbWVtb3J5IH0gfSk7XG4gIGNvbnN0IGltYWdlRGF0YSA9IHJhd0RhdGEuZ2V0KCdmb3Jlc3QnKSBhcyBJbWFnZURhdGE7XG4gIGNvbnN0IHNpemUgPSBpbWFnZURhdGEuaGVpZ2h0ICogaW1hZ2VEYXRhLndpZHRoICogNDtcbiAgLy9AdHMtaWdub3JlXG4gIGNvbnN0IGRhdGFQdHIgPSByZXN1bHRPYmplY3QuaW5zdGFuY2UuZXhwb3J0cy5tYWxsb2Moc2l6ZSk7XG4gIFxuXG59XG4qL1xuXG4vKlxuZnVuY3Rpb24gcHV0Rm9yZXN0RnJvbUNhY2hlIChrZXk6IHN0cmluZywgbWF4WDogbnVtYmVyKSB7XG5cbiAgY29uc3QgY2FudmFzUG9pbnRzID0gY2FjaGVQb2ludHMuZ2V0KGtleSkgYXMge1xuICAgIGNicCA6IENhbnZhc1BvaW50LFxuICAgIGN0cCA6IENhbnZhc1BvaW50LFxuICAgIGZ0cCA6IENhbnZhc1BvaW50LFxuICAgIGZicCA6IENhbnZhc1BvaW50LFxuICB9O1xuICBjb25zdCBmdHAgPSBjYW52YXNQb2ludHMuZnRwO1xuICBjb25zdCBjdHAgPSBjYW52YXNQb2ludHMuY3RwO1xuXG4gIGNvbnN0IGNhbnZhc1dpZHRoID0gTWF0aC5hYnMoZnRwLnggLSBjdHAueCk7XG4gIGNvbnN0IGlEYXRhPSByYXdEYXRhQ2FjaGUuZ2V0KGtleSkgYXMgSW1hZ2VEYXRhO1xuXG4gIFxuICBjb250ZXh0LnNhdmUoKTtcbiAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgY29udGV4dC5tb3ZlVG8oY2JwLngsIGNicC55KTtcbiAgY29udGV4dC5saW5lVG8oY3RwLngsIGN0cC55KTtcbiAgY29udGV4dC5saW5lVG8oZnRwLngsIGZ0cC55KTtcbiAgY29udGV4dC5saW5lVG8oZmJwLngsIGZicC55KTtcbiAgY29udGV4dC5jbGlwKCk7XG4gIFxuIGNvbnRleHQucHV0SW1hZ2VEYXRhKGlEYXRhICwgTWF0aC5taW4oY3RwLngsIGZ0cC54KSwgQ09OU1RTLkNBTlZBU19IRUlHSFQgLSBDT05TVFMuV0FMTF9IRUlHSFQsIDAsIDAsIGNhbnZhc1dpZHRoLCBDT05TVFMuV0FMTF9IRUlHSFQpO1xuIC8vY29udGV4dC5yZXN0b3JlKCk7XG59XG4qLyIsImltcG9ydCB7Y2xlYXIsIGRyYXdCYWNrZ3JvdW5kLCBkcmF3U3RhcnMsIGRyYXdNYXJrLCBkcmF3QmxvY2ssIGRyYXdUZXh0fSBmcm9tICcuL2RyYXdPYmplY3RzJztcbmltcG9ydCB7IGNoZWNrQ3Jhc2gsIHVwZGF0ZU1hcmtzLCB1cGRhdGVCbG9ja3MsIGNyZWF0ZUJsb2NrcyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IHtcbiAgQ09VTlRET1dOX1RJTUUsIFpfTUlOLCBaX0hPUklaT04sIFxuICBNQVhfUE9TSVRJT04sIE5VTV9PRl9ST0FEX01BUktTLCBNQVJLX0xFTkdUSCxcbiAgQkxPQ0tfUFJPQkFCSUxJVFksIERJU1RBTkNFX0JFVFdFRU5fQkxPQ0tTLCBOVU1fT0ZfQkxPQ0tTLCBUSUNLU19QRVJfQkxPQ0ssIFNQRUVELCBTUEVFRF9GT1JFU1Rcbn0gZnJvbSAnLi9jb25zdHMnO1xuZXhwb3J0IHsgbG9hZEltYWdlcywgbG9hZFJhd0RhdGEgfSBmcm9tICcuL2RyYXdPYmplY3RzJztcblxuXG5leHBvcnQgdHlwZSBSb2FkQmxvY2sgPSB7XG4gIHo6IG51bWJlcjtcbiAgcG9zaXRpb246IG51bWJlcjtcbn1cblxubGV0IHJvYWRNYXJrcyA6IG51bWJlcltdID0gW107XG5sZXQgcm9hZEJsb2NrcyA6IFJvYWRCbG9ja1tdID0gW107XG5sZXQgdGlja051bSA9IDA7XG5sZXQgZnBzID0gMDtcblxuLy/QotCw0LnQvNC10YBcbmxldCBzYXZlZFRpbWUgPSAwO1xubGV0IHRpbWVzdGFtcCA9IDA7XG5sZXQgdGltZVJlbWFpbmluZyA9IENPVU5URE9XTl9USU1FO1xuXG4vL9C40LfQvNC10YDQtdC90LjQtSBGUFNcbmxldCB0czAgPSAwO1xubGV0IHRzMSA9IDA7XG5sZXQgdHMyID0gMDtcblxuLy/Qk9C10L3QtdGA0LDRhtC40Y8g0LHQu9C+0LrQvtCyXG5sZXQgZGlzdGFuY2VUb05leHRCbG9jayA9IDA7XG4vL9Cf0L7QstC+0YDQvtGCXG5sZXQgcm9hZFBvc2l0aW9uID0gLTE7XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgTlVNX09GX1JPQURfTUFSS1M7IGkrKykge1xuICByb2FkTWFya3MucHVzaChaX01JTiArIGkgKiAoTUFSS19MRU5HVEggKyBNQVJLX0xFTkdUSCkpO1xufVxuXG5cbmZ1bmN0aW9uIGluaXRCbG9ja3MoKSB7XG5cbiAgbGV0IGRpc3RhbmNlID0gKFpfSE9SSVpPTiAtIFpfTUlOKS8yICsgWl9NSU47XG4gIHdoaWxlIChkaXN0YW5jZSA8IFpfSE9SSVpPTikge1xuICAgIGNvbnN0IGNoYW5jZSA9IE1hdGgucmFuZG9tKCk7XG4gICAgaWYgKGNoYW5jZSA8IEJMT0NLX1BST0JBQklMSVRZKSB7XG4gICAgICByb2FkQmxvY2tzLnB1c2goe1xuICAgICAgICB6OiBkaXN0YW5jZSxcbiAgICAgICAgcG9zaXRpb246IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAxIDogLTEsXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGlzdGFuY2UgKz0gRElTVEFOQ0VfQkVUV0VFTl9CTE9DS1M7XG4gIH1cblxuICBsZXQgaSA9IHJvYWRCbG9ja3MubGVuZ3RoO1xuICB3aGlsZSAoaSA8IE5VTV9PRl9CTE9DS1MpIHtcbiAgICByb2FkQmxvY2tzLnB1c2goe1xuICAgICAgejogMCxcbiAgICAgIHBvc2l0aW9uOiAwLFxuICAgIH0pO1xuICAgIGkrKztcbiAgfVxuXG59XG5pbml0QmxvY2tzKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VGltZXIoKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIHRpbWVzdGFtcCA9IG5vdztcbiAgdHMwID0gbm93O1xuICB0czEgPSBub3c7XG4gIHRzMiA9IG5vdztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYXZlVGltZSAoKSB7XG4gIHNhdmVkVGltZSA9IERhdGUubm93KCkgLSB0aW1lc3RhbXAgKyBzYXZlZFRpbWU7XG59XG5sZXQgaGlnaERldGFpbHMgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBzZXREZXRhaWxzIChkZXRhaWxzOiBib29sZWFuKSB7XG4gIGhpZ2hEZXRhaWxzID0gZGV0YWlscztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzICgpIHtcbiAgaGlnaERldGFpbHMgPSAhaGlnaERldGFpbHM7XG59XG5cbmV4cG9ydCBlbnVtIEdhbWVSZXN1bHQge1xuICBPSyxcbiAgV09OLFxuICBMT1NULFxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclNjZW5lKHJvYWRQb3NpdGlvbkdvYWw6IG51bWJlcikgOiBHYW1lUmVzdWx0IHtcblxuICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCArIHNhdmVkVGltZTtcbiAgY29uc3QgZWxhcHNlZFNlYyA9IE1hdGguZmxvb3IoZWxhcHNlZC8xMDAwKTtcbiAgdGltZVJlbWFpbmluZyA9IENPVU5URE9XTl9USU1FIC0gZWxhcHNlZFNlYztcbiAgXG4gIHRzMSA9IHRzMjtcbiAgdHMyID0gRGF0ZS5ub3coKTtcblxuICBpZiAodHMyIC0gdHMwID4gMTAwMCkge1xuICAgIGZwcyA9IHRpY2tOdW07XG4gICAgdGlja051bSA9IDA7XG4gICAgdHMwID0gdHMyO1xuICB9XG5cbiAgY29uc3QgaW1wbGllZFRpY2tzID0gKHRzMiAtIHRzMSkgLyAxMDAwICogNjA7XG4gIGNvbnN0IHNwZWVkID0gU1BFRUQgKiBpbXBsaWVkVGlja3M7XG5cbiAgZGlzdGFuY2VUb05leHRCbG9jayA9IGRpc3RhbmNlVG9OZXh0QmxvY2sgKyBzcGVlZDtcbiAgICBcbiAgY29uc3QgZXBzaWxvbiA9IDAuMDg7XG4gIGlmIChNYXRoLmFicyhyb2FkUG9zaXRpb24gLSByb2FkUG9zaXRpb25Hb2FsKSA+IGVwc2lsb24pIHtcbiAgICByb2FkUG9zaXRpb24gPSByb2FkUG9zaXRpb24gKyBNYXRoLnNpZ24ocm9hZFBvc2l0aW9uR29hbCAtIHJvYWRQb3NpdGlvbikgKiBlcHNpbG9uICogaW1wbGllZFRpY2tzO1xuICAgIHJvYWRQb3NpdGlvbiA9IE1hdGgubWluKHJvYWRQb3NpdGlvbiwgMSk7XG4gICAgcm9hZFBvc2l0aW9uID0gTWF0aC5tYXgocm9hZFBvc2l0aW9uLCAtMSk7XG4gIH1cbiAgY29uc3Qgcm9hZENlbnRlciA9IE1BWF9QT1NJVElPTiAqIHJvYWRQb3NpdGlvbjtcbiAgY29uc3QgY2FyQ2VudGVyID0gLSByb2FkQ2VudGVyO1xuICBcbiAgY29uc3QgaXNDcmFzaGVkID0gY2hlY2tDcmFzaChyb2FkQmxvY2tzLCByb2FkQ2VudGVyLCBjYXJDZW50ZXIpO1xuICBpZiAoaXNDcmFzaGVkKSB7XG4gICAgcmV0dXJuIEdhbWVSZXN1bHQuTE9TVDtcbiAgfVxuXG4gIHJvYWRNYXJrcyA9IHVwZGF0ZU1hcmtzKHJvYWRNYXJrcywgc3BlZWQpO1xuICByb2FkQmxvY2tzID0gdXBkYXRlQmxvY2tzKHJvYWRCbG9ja3MsIHNwZWVkKTtcbiAgdGlja051bSA9IHRpY2tOdW0gKyAxO1xuICBpZiAoZGlzdGFuY2VUb05leHRCbG9jayA+IERJU1RBTkNFX0JFVFdFRU5fQkxPQ0tTKSB7XG4gICAgcm9hZEJsb2NrcyA9IGNyZWF0ZUJsb2Nrcyhyb2FkQmxvY2tzKTtcbiAgICBkaXN0YW5jZVRvTmV4dEJsb2NrID0gMDtcbiAgfVxuXG4gIC8v0YDQuNGB0YPQtdC8XG4gIGNsZWFyKCk7XG5cbiAgZHJhd0JhY2tncm91bmQocm9hZENlbnRlciwgTWF0aC5mbG9vcihTUEVFRF9GT1JFU1QgKiBpbXBsaWVkVGlja3MpLCBoaWdoRGV0YWlscyk7XG4gIGRyYXdTdGFycygpO1xuXG4gIGZvciAobGV0IGkgPSByb2FkTWFya3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgZHJhd01hcmsocm9hZE1hcmtzW2ldLCByb2FkQ2VudGVyKTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSByb2FkQmxvY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgIGlmIChyb2FkQmxvY2tzW2ldLnogPiBaX01JTiAtIDIuMCkge1xuICAgICAgZHJhd0Jsb2NrKHJvYWRCbG9ja3NbaV0ueiwgcm9hZEJsb2Nrc1tpXS5wb3NpdGlvbiwgcm9hZENlbnRlcik7XG4gICAgfSAgICBcbiAgfVxuXG4gIGxldCB0aW1lUmVtYWluaW5nRm9ybWF0dGVkID0gJzAwJztcbiAgaWYgKHRpbWVSZW1haW5pbmcgPiA5KSB7XG4gICAgdGltZVJlbWFpbmluZ0Zvcm1hdHRlZCA9IFN0cmluZyh0aW1lUmVtYWluaW5nKTtcbiAgfSBlbHNlIGlmICh0aW1lUmVtYWluaW5nID4gMCkge1xuICAgIHRpbWVSZW1haW5pbmdGb3JtYXR0ZWQgPSAnMCcgKyB0aW1lUmVtYWluaW5nXG4gIH1cblxuICBjb25zdCB0ZXh0ID0gYNCS0YDQtdC80Y86ICR7dGltZVJlbWFpbmluZ0Zvcm1hdHRlZH1gICsgJ1xcclxcbicgKyBgRlBTOiAke2ZwcyA+IDkgPyBmcHMgOiAnMCcgKyBmcHN9YDtcbiAgZHJhd1RleHQodGV4dCwgdGltZVJlbWFpbmluZyA8IDEwKTtcblxuICBpZiAodGltZVJlbWFpbmluZyA8PSAwKSB7XG4gICAgcmV0dXJuIEdhbWVSZXN1bHQuV09OO1xuICB9XG4gIHJldHVybiBHYW1lUmVzdWx0Lk9LO1xuXG59XG4gIiwiaW1wb3J0IHsgYmxvY2tMZWZ0LCBibG9ja1JpZ2h0IH0gZnJvbSAnLi9kcmF3T2JqZWN0cyc7XG5pbXBvcnQgdHlwZSB7Um9hZEJsb2NrfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7Wl9NSU4sIFpfSE9SSVpPTiwgTUFSS19MRU5HVEgsIEJMT0NLX1BST0JBQklMSVRZLCBDQVJfV0lEVEh9IGZyb20gJy4vY29uc3RzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWFya3MgKHJvYWRNYXJrczogbnVtYmVyW10sIHNwZWVkOiBudW1iZXIpIDogbnVtYmVyW10ge1xuXG4gIGNvbnN0IHVwZGF0ZWRNYXJrcyA6IG51bWJlcltdID0gbmV3IEFycmF5KHJvYWRNYXJrcy5sZW5ndGgpO1xuICAvL9Cf0YDQvtC00LLQuNCz0LDQtdC8INC+0YLQvNC10YLQutC4XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm9hZE1hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgdXBkYXRlZE1hcmtzW2ldID0gcm9hZE1hcmtzW2ldIC0gc3BlZWQ7IFxuICB9XG5cbiAgaWYgKHVwZGF0ZWRNYXJrc1swXSA8IFpfTUlOIC0gTUFSS19MRU5HVEgpIHtcbiAgICAvL9Cj0LHQuNGA0LDQtdC8INC+0YLQvNC10YLQutGDXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2FkTWFya3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICB1cGRhdGVkTWFya3NbaV0gPSByb2FkTWFya3NbaSsxXTsgXG4gICAgfVxuICAgIGNvbnN0IHogPSB1cGRhdGVkTWFya3Nbcm9hZE1hcmtzLmxlbmd0aCAtIDJdICsgTUFSS19MRU5HVEggKyBNQVJLX0xFTkdUSDtcbiAgICB1cGRhdGVkTWFya3Nbcm9hZE1hcmtzLmxlbmd0aC0xXSA9IE1hdGgubWluKHosIFpfSE9SSVpPTik7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlZE1hcmtzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQmxvY2tzIChyb2FkQmxvY2tzOiBSb2FkQmxvY2tbXSwgc3BlZWQ6IG51bWJlcikgOiBSb2FkQmxvY2tbXSB7XG4gIFxuICBpZiAocm9hZEJsb2Nrc1swXS56IDwgMS4wKSB7XG4gICAgcmV0dXJuIHJvYWRCbG9ja3M7XG4gIH1cblxuICAvL9CV0YHQu9C4INC10YHRgtGMINCx0LvQvtC60LhcbiAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IFsuLi5yb2FkQmxvY2tzXTtcbiAgLy/Qo9Cx0LjRgNCw0LXQvCDQsdC70L7Quiwg0LrQvtGC0L7RgNGL0Lkg0LzRiyDRg9C20LUg0L/RgNC+0LXRhdCw0LvQuFxuICBpZiAodXBkYXRlZEJsb2Nrc1swXS56IDwgWl9NSU4gLSAyLjApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZEJsb2Nrcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdXBkYXRlZEJsb2Nrc1tpXSA9IHVwZGF0ZWRCbG9ja3NbaSsxXTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZWRCbG9ja3NbdXBkYXRlZEJsb2Nrcy5sZW5ndGggLSAxXSA9IHt6OjAuMCwgcG9zaXRpb246IDAuMH07XG4gIH1cbiAgLy/QlNCy0LjQs9Cw0LXQvCDQsdC70L7QutC4XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZEJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgIHVwZGF0ZWRCbG9ja3NbaV0ueiA9IHVwZGF0ZWRCbG9ja3NbaV0ueiAtIHNwZWVkO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZWRCbG9ja3M7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJsb2NrcyAocm9hZEJsb2NrczogUm9hZEJsb2NrW10pIDogUm9hZEJsb2NrW10ge1xuICAvL9Cd0YPQttC90L4g0LvQuCDQtNC+0LHQsNCy0LvRj9GC0Ywg0L3QvtCy0YvQtSDQsdC70L7QutC4XG4gIGxldCBmcmVlSWR4ID0gcm9hZEJsb2Nrcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm9hZEJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJvYWRCbG9ja3NbaV0ueiA8IDEuMCkge1xuICAgICAgICAgIGZyZWVJZHggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG4gIGlmIChmcmVlSWR4ID09PSByb2FkQmxvY2tzLmxlbmd0aCkge1xuICAgIHJldHVybiByb2FkQmxvY2tzO1xuICB9XG5cbiAgaWYgKE1hdGgucmFuZG9tKCkgPiBCTE9DS19QUk9CQUJJTElUWSkge1xuICAgIHJldHVybiByb2FkQmxvY2tzO1xuICB9XG4gIFxuICBjb25zdCB1cGRhdGVkQmxvY2tzID0gWy4uLnJvYWRCbG9ja3NdO1xuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgIHVwZGF0ZWRCbG9ja3NbZnJlZUlkeF0gPSB7ejogWl9IT1JJWk9OLCBwb3NpdGlvbjogLTEuMH07XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlZEJsb2Nrc1tmcmVlSWR4XSA9IHt6OiBaX0hPUklaT04sIHBvc2l0aW9uOiAxLjB9O1xuICB9XG4gIHJldHVybiB1cGRhdGVkQmxvY2tzO1xuICBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ3Jhc2ggKHJvYWRCbG9ja3M6IFJvYWRCbG9ja1tdLCByb2FkQ2VudGVyOiBudW1iZXIsIGNhckNlbnRlcjogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGZpcnN0QmxvY2sgPSByb2FkQmxvY2tzWzBdO1xuICBpZiAoZmlyc3RCbG9jay56ID4gMS4wICYmIGZpcnN0QmxvY2sueiA8IFpfTUlOKSB7XG4gICAgICBjb25zdCBibG9ja0xlZnRYID0gYmxvY2tMZWZ0KGZpcnN0QmxvY2sucG9zaXRpb24sIHJvYWRDZW50ZXIpO1xuICAgICAgY29uc3QgYmxvY2tSaWdodFggPSBibG9ja1JpZ2h0KGZpcnN0QmxvY2sucG9zaXRpb24sIHJvYWRDZW50ZXIpO1xuXG4gICAgICBpZiAoY2FyQ2VudGVyID4gYmxvY2tMZWZ0WCAtIENBUl9XSURUSC8yLjAgJiYgY2FyQ2VudGVyIDwgYmxvY2tSaWdodFggKyBDQVJfV0lEVEgvMi4wKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IFxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImltcG9ydCB7cmVuZGVyU2NlbmUsIGxvYWRJbWFnZXMsIGxvYWRSYXdEYXRhLCBpbml0VGltZXIsIHNhdmVUaW1lLCB0b2dnbGVEZXRhaWxzLCBHYW1lUmVzdWx0LCBzZXREZXRhaWxzfSBmcm9tICcuL2dhbWUvaW5kZXgnO1xuXG5sZXQgcm9hZF9wb3NpdGlvbl9nb2FsID0gLTE7XG5sZXQgcGF1c2VkID0gZmFsc2U7XG5cbmNvbnN0IG5leHRTY2VuZSA9ICgpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyU2NlbmUocm9hZF9wb3NpdGlvbl9nb2FsKTtcbiAgaWYgKHJlc3VsdCA9PT0gR2FtZVJlc3VsdC5XT04pIHtcbiAgICB2aWN0b3J5SGFuZGxlcigpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocmVzdWx0ID09PSBHYW1lUmVzdWx0LkxPU1QpIHtcbiAgICBjcmFzaEhhbmRsZXIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFwYXVzZWQpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT5uZXh0U2NlbmUoKSk7XG4gIH0gZWxzZSB7XG4gICAgc2F2ZVRpbWUoKTtcbiAgfVxufSBcblxuZnVuY3Rpb24gcnVuICgpIHtcbiAgaW5pdFRpbWVyKCk7XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9Pm5leHRTY2VuZSgpKTtcbn1cblxuXG5mdW5jdGlvbiBjcmFzaEhhbmRsZXIoKSB7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBwcm9jZXNzS2V5KTtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvc3QnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgZGl2LmhpZGRlbiA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdmljdG9yeUhhbmRsZXIoKSB7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBwcm9jZXNzS2V5KTtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvbicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICBkaXYuaGlkZGVuID0gZmFsc2U7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRBbmRSdW4gKCkge1xuXG5cbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA1NjApIHtcbiAgICAvL9Ci0LXQu9C10YTQvtC9XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGNvbnN0IGxlZnRBcnJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWZ0LWFycm93JykgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICBjb25zdCByaWdodEFycm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LWFycm93JykgYXMgSFRNTEltYWdlRWxlbWVudDtcblxuICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBsZWZ0QXJyb3cud2lkdGggLSByaWdodEFycm93LndpZHRoIC0gMTA7XG4gICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gMTA7XG4gICAgY29uc3QgY2FudmFzQXNwZWN0ID0gY2FudmFzLndpZHRoIC8gY2FudmFzLmhlaWdodDtcbiAgICBjb25zdCBhdmFpbGFibGVBc3BlY3QgPSBhdmFpbGFibGVXaWR0aCAvIGF2YWlsYWJsZUhlaWdodDtcbiAgICBsZXQgY2FudmFzSGVpZ2h0ID0gYXZhaWxhYmxlQXNwZWN0ID4gY2FudmFzQXNwZWN0ID8gYXZhaWxhYmxlSGVpZ2h0IDogYXZhaWxhYmxlV2lkdGggLyBjYW52YXNBc3BlY3Q7XG5cbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gU3RyaW5nKE1hdGguZmxvb3IoY2FudmFzSGVpZ2h0KSkgKyAncHgnO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFN0cmluZyhNYXRoLmZsb29yKGNhbnZhc0hlaWdodCAqIGNhbnZhc0FzcGVjdCkpICsgJ3B4JztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFN0cmluZyh3aW5kb3cuaW5uZXJIZWlnaHQpICsgJ3B4JztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gU3RyaW5nKHdpbmRvdy5pbm5lcldpZHRoKSArICdweCc7XG4gIFxuICAgIGxlZnRBcnJvdy5zdHlsZS5oZWlnaHQgPSBTdHJpbmcoTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJIZWlnaHQgLzIpKSArICdweCc7XG4gICAgbGVmdEFycm93LmhpZGRlbiA9IGZhbHNlO1xuICAgIGxlZnRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpe1xuICAgICAgcm9hZF9wb3NpdGlvbl9nb2FsID0gMTtcbiAgICB9KTtcblxuICAgIHJpZ2h0QXJyb3cuc3R5bGUuaGVpZ2h0ID0gU3RyaW5nKE1hdGguZmxvb3Iod2luZG93LmlubmVySGVpZ2h0IC8gMikpICsgJ3B4JztcbiAgICByaWdodEFycm93LmhpZGRlbiA9IGZhbHNlO1xuICAgIHJpZ2h0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICAgIHJvYWRfcG9zaXRpb25fZ29hbCA9IC0xO1xuICAgIH0pO1xuXG4gIH0gZWxzZSB7XG4gICAgLy/QlNC10YHQutGC0L7QvyAvINC/0LvQsNC90YjQtdGCXG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbCcpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGRpdi5oaWRkZW4gPSBmYWxzZTtcbiAgICBzZXREZXRhaWxzKHRydWUpO1xuICB9XG4gIGF3YWl0IGxvYWRJbWFnZXMoKTtcbiAgYXdhaXQgbG9hZFJhd0RhdGEoKTtcbiAgcnVuKCk7XG59XG5cblxuZnVuY3Rpb24gaXNPcmllbnRhdGlvbk9rICgpIDogYm9vbGVhbiB7XG4gIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNTYwKSB7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNTYwKSB7XG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5pZiAoaXNPcmllbnRhdGlvbk9rKCkpIHtcbiAgaW5pdEFuZFJ1bigpO1xufSBlbHNlIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvcml6b250YWwtYWxlcnQnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgZGl2LmhpZGRlbiA9IGZhbHNlO1xufVxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpe1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9yaXpvbnRhbC1hbGVydCcpIGFzIEhUTUxEaXZFbGVtZW50O1xuICBpZiAoaXNPcmllbnRhdGlvbk9rKCkpIHtcbiAgICBkaXYuaGlkZGVuID0gdHJ1ZTtcbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHJ1bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0QW5kUnVuKCk7XG4gICAgfVxuICAgIFxuICB9IGVsc2Uge1xuICAgIHBhdXNlZCA9IHRydWU7XG4gICAgZGl2LmhpZGRlbiA9IGZhbHNlO1xuICB9XG59KTtcblxuXG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHByb2Nlc3NLZXkpO1xuZnVuY3Rpb24gcHJvY2Vzc0tleShlOiBLZXlib2FyZEV2ZW50KSB7XG4gIGlmIChlLmNvZGUgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByb2FkX3Bvc2l0aW9uX2dvYWwgPSAtMTtcbiAgfSAgXG4gIFxuICBpZiAoZS5jb2RlID09PSAnQXJyb3dMZWZ0Jykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByb2FkX3Bvc2l0aW9uX2dvYWwgPSAxO1xuICB9XG5cbiAgaWYgKGUuY29kZSA9PT0gJ0VudGVyJykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0b2dnbGVEZXRhaWxzKCk7XG4gIH1cblxuICBpZiAoZS5jb2RlID09PSAnRXNjYXBlJykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBwYXVzZWQgPSB0cnVlO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZWQnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBkaXYuaGlkZGVuID0gZmFsc2U7XG4gIH1cblxuICBpZiAoZS5jb2RlID09PSAnU3BhY2UnKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChwYXVzZWQpIHtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZWQnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgIGRpdi5oaWRkZW4gPSB0cnVlO1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBydW4oKTtcbiAgICB9XG4gIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==